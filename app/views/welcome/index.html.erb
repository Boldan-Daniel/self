<%= render partial: 'application/datepicker', locals: { url: root_path } %>

<% content_for :list_items do %>
  <!-- Making sure this is not empty -->
  <% events_at(@date).each do |event| %>
    <%= render partial: 'event_info', locals: { event: event } %>
  <% end %>
<% end %>

<% content_for :panel_title, "#{title}. Total: #{hours_worked @date}" %>

<% content_for :custom_modal_id, 'addEvent' %>

<% content_for :custom_modal do %>
  <%= render partial: 'application/modal',
             locals: {
                     resource_name: 'Event',
                     resource_id: 'Event',
                     body: 'event_form',
                     form_params: { event: current_user.events.new }
             } %>
<% end %>

<%= render file: 'application/panel' %>