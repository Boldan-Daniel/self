<% if @success %>
  $('.modal.in').toggle()
  $('#eventInfo<%= @event.id %>')
          .replaceWith('<%= escape_javascript render(partial: 'welcome/event_info', locals: { event: @event }) %>');
<% else %>
  $('.modal.in .modal-body')
          .html('<%= escape_javascript render(partial: 'welcome/event_form', locals: { event: @event }) %>');
<% end %>

/*
 * Since we replace the element which was responsible for the request
 * We are responsible to handle callbacks. In this case it's enough to just fire an ajax:complete
 */
$(document).trigger('ajax:complete');